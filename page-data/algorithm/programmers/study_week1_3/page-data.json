{"componentChunkName":"component---src-templates-blog-post-js","path":"/algorithm/programmers/study_week1_3","result":{"data":{"markdownRemark":{"html":"<h2>문제 설명</h2>\n<p>OO 조선소에서는 태풍으로 인한 작업지연으로 수주한 선박들을 기한 내에 완성하지 못할 것이 예상됩니다. 기한 내에 완성하지 못하면 손해 배상을 해야 하므로 남은 일의 작업량을 숫자로 매기고 배상비용을 최소화하는 방법을 찾으려고 합니다.\n<strong><em>배상 비용은 각 선박의 완성까지 남은 일의 작업량을 제곱하여 모두 더한 값이 됩니다.\\</em></strong></p>\n<p>조선소에서는 1시간 동안 남은 일 중 하나를 골라 작업량 1만큼 처리할 수 있습니다. 조선소에서 작업할 수 있는 N 시간과 각 일에 대한 작업량이 담긴 배열(works)이 있을 때 배상 비용을 최소화한 결과를 반환하는 함수를 만들어 주세요. 예를 들어, N=4일 때, 선박별로 남은 일의 작업량이 works = [4, 3, 3]이라면 배상 비용을 최소화하기 위해 일을 한 결과는 [2, 2, 2]가 되고 배상 비용은 22 + 22 + 22 = 12가 되어 12를 반환해 줍니다.</p>\n<h2>제한사항</h2>\n<ul>\n<li>일할 수 있는 시간 N : 1,000,000 이하의 자연수</li>\n<li>배열 works의 크기 : 1,000 이하의 자연수</li>\n<li>각 일에 대한 작업량 : 1,000 이하의 자연수</li>\n</ul>\n<h2>입출력 예</h2>\n<table>\n<thead>\n<tr>\n<th>N</th>\n<th>works</th>\n<th>result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>4</td>\n<td>[4,3,3]</td>\n<td>12</td>\n</tr>\n<tr>\n<td>2</td>\n<td>[3,3,3]</td>\n<td>17</td>\n</tr>\n</tbody>\n</table>\n<h5>입출력 예 설명</h5>\n<p>입출력 예 #1\n문제의 예제와 같습니다.</p>\n<p>입출력 예 #2\n배상 비용을 최소화하기 위해 일을 한 결과는 [2, 2, 3]가 되고 배상 비용은 22 + 22 + 32 = 17가 되어 17를 반환해 줍니다.</p>\n<h2>나의 풀이</h2>\n<h3>첫번째 풀이</h3>\n<h4>소스</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">from</span> queue <span class=\"token keyword\">import</span> PriorityQueue\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">solution</span><span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">,</span> works<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> no <span class=\"token operator\">>=</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>works<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token number\">0</span>\n    \n    result <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    \n    priority_que <span class=\"token operator\">=</span> PriorityQueue<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># 최대값을 찾기 위해 priority를 음수로 바꿔준다.</span>\n    <span class=\"token keyword\">for</span> work <span class=\"token keyword\">in</span> works<span class=\"token punctuation\">:</span>\n        priority_que<span class=\"token punctuation\">.</span>put<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>work<span class=\"token punctuation\">,</span> work<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    \n    <span class=\"token keyword\">while</span> no <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n        after_max_work <span class=\"token operator\">=</span> priority_que<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token comment\"># 최대 작업량을 가져와서 수행한다.</span>\n        priority_que<span class=\"token punctuation\">.</span>put<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>after_max_work<span class=\"token punctuation\">,</span> after_max_work<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 다시 최대 우선순위 큐로 넣는다.</span>\n        no <span class=\"token operator\">-=</span> <span class=\"token number\">1</span>\n            \n    <span class=\"token comment\"># 남은 작업량 의 배상 비용을 구한다.</span>\n    <span class=\"token keyword\">for</span> work_tuple <span class=\"token keyword\">in</span> priority_que<span class=\"token punctuation\">.</span>queue<span class=\"token punctuation\">:</span>\n        result <span class=\"token operator\">+=</span> work_tuple<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">**</span> <span class=\"token number\">2</span>\n    \n    <span class=\"token keyword\">return</span> result</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4>설명</h4>\n<p>이 문제는 list에 있는 수들이 평균과 비슷하고 가장 작게 형성이 되어 있어야 하는데\n딱 봐도 heap을 이용해서 작업 횟수 만큼 최대값들에 대해 하나씩 빼주면 될 것 같았다.</p>\n<p>하지만, python에 max heap이 없기 때문에 키 값을 음수화 시켜서 진행하고,\ntuple과 같은 부분을 사용하기 위해 heapq 모듈대신 heapq모듈이 내부적으로 이용 된\nqueue의 PriorityQueue를 사용하였다.</p>\n<h4>결과</h4>\n<p>통과하였다.</p>\n<h4>리뷰</h4>\n<p>리뷰도 별 다를것이 없었고, 코드 량을 줄이는 정도의 리뷰만 있었다.</p>\n<ul>\n<li><code class=\"language-text\">no</code> 값 만큼 순차적으로 선회하기 때문에 <code class=\"language-text\">for _ in range(no):</code>로 사용하여도 됨.</li>\n<li><code class=\"language-text\">list comprehension</code>을 이용\n<code class=\"language-text\">result = sum([work_tuple ** 2 for work_tuple in priority_que.queue])</code><br>\n로 표현 가능</li>\n</ul>\n<h3>두번째 풀이</h3>\n<h4>소스</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">from</span> heapq <span class=\"token keyword\">import</span> heapify<span class=\"token punctuation\">,</span> heappush<span class=\"token punctuation\">,</span> heappop\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">solution</span><span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">,</span> works<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    works <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>x <span class=\"token operator\">*</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> works<span class=\"token punctuation\">]</span>\n    heapify<span class=\"token punctuation\">(</span>works<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">for</span> _ <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        max_work <span class=\"token operator\">=</span> heappop<span class=\"token punctuation\">(</span>works<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 가장 많이 남은 작업 pop</span>\n        heappush<span class=\"token punctuation\">(</span>works<span class=\"token punctuation\">,</span> max_work <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 작업 수행 후 다시 heap에 넣는다.</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>work <span class=\"token operator\">**</span> <span class=\"token number\">2</span> <span class=\"token keyword\">for</span> work <span class=\"token keyword\">in</span> works<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4>설명</h4>\n<p>위 풀이에 대해 코드를 pythonic하게 하였다.</p>\n<h4>결과</h4>\n<p>통과</p>","excerpt":"문제 설명 OO…","frontmatter":{"date":"10 September, 2020","path":"/algorithm/programmers/study_week1_3","title":"[1주차 Queue & Heap] 배상 비용 최소화 - Lv2"},"fields":{"readingTime":{"text":"3 min read"}}}},"pageContext":{"slug":"/programmers_algorithm_study/2020-09-10-[1주차-Queue-&-Heap]-배상-비용-최소화/","previous":{"frontmatter":{"path":"/algorithm/programmers/study_week1_test1","draft":false,"category":"code test"},"fields":{"slug":"/programmers_algorithm_study/2020-09-10-1주차-모의고사-전염병/"}},"next":{"frontmatter":{"path":"/algorithm/programmers/study_week1_test2","draft":false,"category":"code test"},"fields":{"slug":"/programmers_algorithm_study/2020-09-10-1주차-모의고사-야근지수/"}}}},"staticQueryHashes":["3649515864","63159454"]}